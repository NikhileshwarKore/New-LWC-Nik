!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,o){if(n){const i=30484800;document.cookie=`${e}=${n};path=${o};domain=${window.location.hostname};Max-Age=${i}`}else document.cookie=`${e}=;path=${o};domain=${window.location.hostname};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function(n,o,i,t){if(null==t||!o||o.length<=1)return;const l=t.split("/");let c=l.length<2?"":l[l.length-1];o.includes(c)||(c="");const a=window.navigator.languages;let s=a.find((e=>o.includes(e)));if(!s){const e=o.filter((e=>!e.includes("-")));s=a.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const d=new RegExp(`\\/${c}\\/?`),u=c?t.replace(d,""):t,f=document.cookie.split("; ").reduce(((e,n)=>{const[o,...i]=n.split("=");return e[o]=i.join("="),e}),{})[i],p=Boolean(f&&o.includes(f)),r="/";if(c&&o.includes(c))e(i,p||s!==c?c:null,r);else if(/[?&]redirect=false/.test(window.location.search))e(i,n===s?null:n,r);else if(p){if(f!==n){const e=window.location.pathname.replace(t,`${u}/${f}`);window.location.pathname=e}}else if(s&&s!==n){const e=window.location.pathname.replace(t,`${u}/${s}`);window.location.pathname=e}}}));
